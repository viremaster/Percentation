<!DOCTYPE html>
<html>

<head>
    <title>Slide control</title>
    <meta charset="UTF-8">
</head>

<body>
    <div id="control">
        <button id="buttontoggle" onclick="toggleFullScreen()">Fullscreen</button>
        <button id="nextSlide" onclick="nextSlide()">Next Slide</button>
        <button id="previousSlide" onclick="previousSlide()">Previous slide</button>
        <button id="newSlide" onclick="addSlide()">Add a slide</button>
        <button id="deleteSldie" onclick="deleteSlide()">Delete the slide</button>
        <input type="color" name="color background" id="colorBakcground" onchange="changeColorBackground()">
    </div>
    <div id="Presentation">
        <div class="slide" style="display:block;">
            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Eius error maiores autem atque, sapiente
                debitis nulla, nihil exercitationem voluptates quae quasi minus, illo quos sint corporis nam expedita
                perferendis cumque?</p>
        </div>
        <div class="slide" style="display:none;">
            <p>This is the second slide</p>
        </div>
        <div class="slide" style="display:none;">
            <img src="http://pkvbeitrag.info/wp-content/uploads/2018/08/google-maps-sightseeing-golden-circle-tour-in-iceland-classic-iceland-1000-x-500-pixels.jpg"
                alt="" srcset="">
        </div>
    </div>
    <script>
        let slides = document.getElementsByClassName("slide");
        let Presentation = document.getElementById("Presentation");
        let selectColorButton = document.getElementById("colorBakcground");
        let actualSlideIndex = 0;
        let actualSlide = slides[actualSlideIndex];
        
        window.onkeypress = function (e) {
            if (e.keyCode == 37) {
                previousSlide();
            } else if (e.keyCode == 39 || e.which == 32) {
                nextSlide();
            }
        }

        function changeColorBackground() {
            slides=document.getElementsByClassName("slide");
            actualSlide=slides[actualSlideIndex];
            actualSlide.style.backgroundColor = selectColorButton.value;
        }

        function toggleFullScreen() {
            launchIntoFullscreen(Presentation);
        }


        function launchIntoFullscreen(element) {
            if (element.requestFullscreen) {
                element.requestFullscreen();
            } else if (element.mozRequestFullScreen) {
                element.mozRequestFullScreen();
            } else if (element.webkitRequestFullscreen) {
                element.webkitRequestFullscreen();
            } else if (element.msRequestFullscreen) {
                element.msRequestFullscreen();
            }
        }

        function nextSlide() {
            slides = document.getElementsByClassName("slide");
            for (let i = 0; i < slides.length; i++) {
                if (slides[i].style.display == "block" && i != slides.length - 1) {
                    slides[i].style.display = "none";
                    slides[i + 1].style.display = "block";
                    actualSlide = slides[i + 1];
                    actualSlideIndex += 1;
                    break
                }
            }
        }

        function previousSlide() {
            slides = document.getElementsByClassName("slide");
            for (let i = 0; i < slides.length; i++) {
                if (slides[i].style.display == "block" && i != 0) {
                    slides[i].style.display = "none";
                    slides[i - 1].style.display = "block";
                    actualSlide = slides[i - 1];
                    actualSlideIndex -= 1
                    break
                }
            }
        }

        function addSlide() {
            let newSlide = document.createElement("div");
            newSlide.className = "slide";
            newSlide.style.display = "none";
            if (Presentation.children.length > 0) {
                Presentation.insertBefore(newSlide, Presentation.children[actualSlideIndex + 1]);
                nextSlide();
            } else {
                Presentation.appendChild(newSlide);
                newSlide.style.display="block"
            }
            newSlide.innerHTML = "hey !";
        }

        function deleteSlide() {
            slides = document.getElementsByClassName("slide");
            if (slides.length > 0) {
                if (slides.length == 1) {
                    Presentation.removeChild(Presentation.children[actualSlideIndex]);
                    actualSlideIndex =0;
                } else if (actualSlideIndex == slides.length - 1) {
                    Presentation.removeChild(Presentation.children[actualSlideIndex]);
                    slides[actualSlideIndex - 1].style.display="block"
                    actualSlideIndex -= 1;
                } else {
                    Presentation.removeChild(Presentation.children[actualSlideIndex]);
                    slides[actualSlideIndex].style.display="block";
                }
            }
        }
    </script>
</body>

</html>